<section class="panel">
  <div class="header">
    <h2>
      <span class="icon">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 6a2 2 0 0 1 2-2h12a4 4 0 0 1 0 8H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h12a4 4 0 0 1 0-8H7"/></svg>
      </span>
      Accounts
    </h2>
    <p>Create accounts and review account inventory.</p>
  </div>

  <form class="form" [formGroup]="accountForm" (ngSubmit)="createAccount()">
    <label>
      <span>RIB</span>
      <div class="input">
        <span class="icon">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M4 4h16v4H4zm0 6h10v2H4zm0 4h16v2H4z"/></svg>
        </span>
        <input type="text" formControlName="rib" placeholder="RIB" />
      </div>
    </label>
    <label>
      <span>Initial balance</span>
      <div class="input">
        <span class="icon">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3a9 9 0 1 0 9 9 9 9 0 0 0-9-9Zm1 14h-2v-1a4 4 0 0 1-3-3h2a2 2 0 0 0 2 1 2 2 0 0 0 0-4 4 4 0 0 1-3-3 4 4 0 0 1 3-3V5h2v1a4 4 0 0 1 3 3h-2a2 2 0 0 0-2-1 2 2 0 0 0 0 4 4 4 0 0 1 3 3 4 4 0 0 1-3 3Z\"/></svg>
        </span>
        <input type="number" formControlName="initialBalance" placeholder="0" />
      </div>
    </label>
    <label>
      <span>Customer ID</span>
      <div class="input">
        <span class="icon">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4Zm0 2c-3.33 0-6 1.34-6 4v2h12v-2c0-2.66-2.67-4-6-4Z\"/></svg>
        </span>
        <input type="number" formControlName="costumerId" placeholder="Customer ID" />
      </div>
    </label>
    <button type="submit" [disabled]="isSubmitting">
      {{ isSubmitting ? 'Creating...' : 'Create account' }}
    </button>
  </form>

  <p class="message" *ngIf="message">{{ message }}</p>

  <div class="list">
    <div class="list-header">
      <h3>Existing accounts</h3>
      <button type="button" class="ghost" (click)="loadAccounts()" [disabled]="isLoading">
        {{ isLoading ? 'Refreshing...' : 'Refresh' }}
      </button>
    </div>
    <div class="table">
      <div class="row head">
        <span>ID</span>
        <span>RIB</span>
        <span>Balance</span>
        <span>Status</span>
      </div>
      <div class="row" *ngFor="let account of accounts">
        <span>{{ account.id }}</span>
        <span>{{ account.rib }}</span>
        <span>{{ account.balance | number:'1.2-2' }}</span>
        <span>{{ account.status }}</span>
      </div>
    </div>
  </div>
</section>
